## 05-01

타임투게더 part1이 끝나고 2분 가까이 되는 영상을 자막 없이 봤다.  
이전에는 안개가 자욱한 것처럼 들리지 않던 말들이 이제는 훈련을 통해 어느 정도 들을 수 있게 된 것 같다.  
아직 기능어도 잘 안들리고 발성을 유지하기도 어렵지만 이대로 계속 훈련한다면 타임투게더 영화를 자막 없이 볼 수 있을거라고 기대한다.

- 코어소리영어 신왕국의 '타임투게더' 7강 학습

## 05-02

- 코어소리영어 신왕국의 '타임투게더' 8강 학습

## 05-03

자체 프레임워크 교육에서 두 번쨰 일정을 위해 viewModel - view pattern으로 구현된 코드를 살펴보게 되었다.  
viewModel을 통해 view를 제어 하고 view에 event가 발생하여 값이 바뀌면 viewModel에 동기화 해주는 2 way binding을 구현하고 있었다.  
기능은 angluar나 vue의 v-model과 비슷하다고 생각된다.  
성능에 있어서도 고려했던 부분이 있었는데 dom 수정이 여러 차례 필요하다면 element의 display:none을 통해 렌더링 트리에서 제외 시킨 다음에 dom 수정이 끝나면 display: block 등을 하여 렌더링 시간을 최적화 했다는 점이다.  
이와 관련하여 critical rendering path라는 글을 보게 되었는데 앞으로 자주 보고 배우게 될 문서 같다.
ref: https://developers.google.com/web/fundamentals/performance/critical-rendering-path?hl=ko

자체 프레임워크를 운영하다 보니 design pattern에도 많은 관심이 가는데 아마 이번 리팩터링 2판 책을 다 읽으면 공부를 시작 할 것 같다.

- viewModel - view pattern의 이점 및 구현
- 리팩터링 2판 277p ~ 288p 학습
- 코어소리영어 신왕국의 '타임투게더' 9강 학습

## 05-04

### 요청 사항

image를 서버에서 가져와 존재하는 이미지인지 확인하기 위해 server에 해당 image가 있는지 요청하여 확인하는 기존 로직이 있었는데 이 로직은 서버 부하로 이어졌다.  
따라서 클라이언트 사이드에서 image가 제대로 로드 되지 않는 경우를 판단하여 처리해야 했다.

### 문제 원인

img tag의 error event에 handler를 등록하여 처리를 할 수 있지만 이렇게 처리할 경우 이미 자체 프레임워크를 사용하고 있는 다른 페이지들에 공통으로 처리해줄 수가 없었다.  
따라서 자체 프레임워크 Event System을 사용하도록 해주어야 하는데 click, mousedown 같은 event는 bubbling이 되기 때문에 document나 window같은 상위 단에 handler를 등록(event delegation)하여 자체 프레임워크의 event system을 사용하도록 할 수 있지만 error event는 bubbling이 되지 않았다.

### 문제 해결

자체 프레임워크의 Event System은 React Event System과 유사하기 때문에 React 코드를 살펴봤다.  
React는 bubbling이 되지 않는 이벤트의 경우 해당 element에 handler를 직접 등록하여 event system을 사용하도록 해주고 있었다.  
따라서 React가 해당 문제를 해결하는 컨셉을 가져와서 적용할 예정이다.

- bubbling되지 않는 event는 직접 handler를 등록하여 event system을 사용하도록 한다.
- 리팩터링 2판 289p ~ 300p 학습
- 코어소리영어 신왕국의 '타임투게더' 10강 학습

## 05-05

문장을 호출한 곳으로 옮기기(8.4절) 리팩터링을 학습하면서 느낀게 있다.  
리팩터링 내용은 함수를 호출하는 쪽에서 함수의 다른 동작을 기대한다면 피호출 함수의 해당 내용을 호출하는 곳으로 옮겨야 한다는 것이다.

하지만 그렇게 되면 함수는 복잡해지고 한 가지 일만 하는게 아니다.  
이는 최근에 깨달은 KISS(Keep It Simple, Stupid) 원칙에도 위배된다.  
따라서 앞으로는 최대한 함수가 한 가지 일만 하고 간단하게 유지해야 겠다고 생각이 들었다.

- 리팩터링 2판 301p ~ 309p 학습
- 코어소리영어 신왕국의 '타임투게더' 11강 학습

## 05-06

자체 프레임워크 두 번째 교육을 무사히 마치게 되었다.  
아직 마지막 교육이 남아있지만 벌써 절반이 지났다고 생각하니 조금은 편안해진다.

교육을 진행하면서도 느끼지만 다른 사람에게 나의 생각을 정리해서 전달하는 것은 어려운 일이다.  
하지만, 이번 일을 통해서 스스로 공부도 많이 하고 어떻게 정보를 전달해야 듣는 사람이 쉽게 받아들일 수 있는지 고민하는 계기가 되었다.

교육을 통해 경험과 지식을 공유하다 보니 업무에도 장점이 생기기 시작했다.  
이전에는 서로의 업무 분야가 틀려서 사용하는 용어나 설명에서 이해하는 부분이 틀렸다면 교육 후에는 업무상 의사소통이 원활해 졌다.

앞으로도 서로의 정보를 공유하는 기회가 많았으면 좋겠다.

### 대화

- 내용은 큰 부분 부터 짚고 작은 부분으로 넘어가자.
- 기술을 가르키는 용어가 다양하더라도 하나의 용어만 사용하자.
- 차분히 천천히 말하자.

### 교훈

- 한 사람의 열 걸음 보다 열 사람의 한 걸음이 장기적으로 좋은 시너지를 낸다.

### 오늘 공부한 것

- 리팩터링 2판 310p ~ 319p 학습
- 코어소리영어 신왕국의 '타임투게더' 12강 학습

## 05-07

오늘을 마지막으로 자체 프레임워크 교육을 끝 마치게 되었다.  
거의 한 달을 준비하며 교육을 하게 되었는데 교육 준비를 하면서 개인적으로도 많은 성장을 이룬 것 같다.  
개인 공부라면 적당히 이해하고 넘어갔을 내용도 다른 사람에게 설명한다고 생각하니 사소한 개념 조차도 확실히 짚고 넘어가려고 노력했다.  
그리고 내가 확실히 이해하고 있는 내용은 다른 사람에게 쉽게 설명해줄 수 있었고 애매하게 알고 있는 내용은 어렵게 설명해주고 있다는 사실도 깨닫게 되었다.  
이를 통해 내가 무엇을 제대로 알고 있고 모르고 있는지 알게 되는 계기가 되었다.

교육 준비를 하면서 얻은 지식과 경험은 나의 업무에도 긍정적 영향을 주었는데 자체 프레임워크의 큰 그림을 그리고 문제의 원인을 빠르게 판단할 수 있게 되었다.

마지막으로 평소에 기술의 원리나 최적화에 관심이 많아 공부를 하고 있었던 부분이 이번 교육 준비에 큰 도움이 되었다.  
reflow 최적화, throttling / debounce, event order, default actions, event delegation, event flow 등

지금까지 진행한 교육 내용은 다음과 같다.

### 1일차

- 자체 프레임워크 Event System (React Event System과 유사)

### 2일차

- viewModel - view Pattern
- 2 way binding (viewModel이 바뀌면 view 제어 - view가 바뀌면 viewModel에 동기화)
- rendering cycle

### 3일차

- 업무중 겪은 문제 및 해결 방법

오늘 공부한 것

- 리팩터링 2판 320p ~ 328p 학습
- 코어소리영어 신왕국의 '타임투게더' 13강 학습

## 05-08

오늘은 어버이날을 맞아 부모님께 깜짝 이벤트를 해드리게 되었다.  
처음으로 사회에 발을 내딛고 돈을 벌어 용돈을 드리게 되었는데 상상이상으로 부모님의 반응이 좋았다.  
앞으로 자주 해드려야 겠다.

리팩터링 2판 책의 8장 기능이동에 대해서 다시 정리를 하게 되었다.  
리팩터링 기법 중에 반복문 쪼개기라는게 있었다.  
나의 경우 최적화를 위해 반복문 안에 필요한 모든일을 처리하는 경향이 있었다.  
하지만, 반복문을 수정할 일이 있다면 반복문에서 발생하는 모든 일을 파악하고 있어야 했고 어떤 일을 하는지 이해하기도 어려웠다. 결과적으로 유지보수하기 힘든 코드가 되었다.  
하지만, 반복문을 쪼개고 함수로 추출하니 어떤 일을 하는지 그 목적이 뚜렷하게 보였다.

또한 문장을 호출한 곳으로 옮기기 리팩터링이 있었다.  
함수의 동작이 달라져야 하는 경우 달라져야 하는 코드를 호출한 곳으로 옮기라는 리팩터링이다.  
나의 경우 함수에서 예외처리를 두어 다른 동작을 제공하면 되지 않나라는 생각을 하고 있었다.  
하지만 그렇게 되면 함수가 여러 가지 일을 하게 되어 코드가 복잡해진다.  
또한, 이런 코드는 나중에 실제 사용하는지 확인하려면 호출하는 코드를 모두 살펴봐야 하기 때문에 정리하기도 까다롭다.

그래서 기능이 달라져야 한다면 달라져야 하는 코드를 각 호출하는 코드로 옮기고 함수는 직관적이고 최대한 한 가지 일만 하도록 유지하는게 좋다.

- 성능 문제가 크지 않다면 반복문을 쪼개자. (반복문을 파이프라인으로 바꾸기 리팩터링도 같은 이치다.)
- 함수를 직관적이고 최대한 한 가지 일만 하도록 유지하자.

오늘 공부한 것

- FastCampus 리팩터링 완주반 5주차 완료
- 코어소리영어 신왕국의 '타임투게더' 14강 학습

## 05-09

오늘은 전날의 피로 때문인지 잠을 오래 잤다.  
그래서 간단하게 영어 공부를 하고 현재 학습 중인 타임투게더 영화를 자막없이 시청하려고 한다.  
아마 대부분은 알아 듣기 힘들겠지만 스토리나 영어 소리에 익숙해졌으면 좋겠다.

- 코어소리영어 신왕국의 '타임투게더' 15강 학습

## 05-10

이전 교육에서 throttle, debounce에 관한 질문이 있었지만 명확하게 답변을 못해 이번에 다시 살펴 보게 되었다.
이번에는 개념정도만 살펴봤지만 다음에 직접 만들어보면 더욱 잘 이해할 수 있을 것 같다.
throttle, debounce 둘 다 이벤트의 실행 빈도를 조절하는 방법이다.  
throttle은 이벤트가 연속적으로 발생할 때 정해진 시간 마다 콜백을 호출해 준다.
debounce의 경우 이벤트가 연속적으로 발생하고 나서 정해진 시간이 지나면 콜백을 호출해 준다. (정해진 시간 동안 이벤트가 발생하면 대기한다.) - 엘리베이터와 유사하다 누군가 열림 버튼을 누르면 엘리베이터는 계속 대기 상태가 되고 일정 시간이 지나 문이 닫히면 층간 이동(기능 수행)을 하게 된다.

- 리팩터링 2판 329p ~ 337p 학습
- 코어소리영어 신왕국의 '타임투게더' 16강 학습

## 05-11

Chrome Dev Tools에서 Performance Panel을 이용하여 Critical Rendering Path를 측정해보았다.
정확하게는 parse HTML, Layout(reflow), Paint를 확인할 수 있었다.
이를 통해 실제로 DOM에 엘리먼트가 추가,삭제될 때 Layout, Paint가 발생하는 것을 알 수 있었다.
해당 지식은 이미 알고 있었지만 실제로 측정을 하여 확인해보는 기회가 되었다.

성능 최적화 관련 일을 맡게 되면 Performance Panel을 이용하여 측정을 하고 성능을 개선하도록 해야겠다.

- Chrome Dev Tools의 Performance Panel을 활용하여 성능 측정 및 Layout(reflow), Paint 확인
- 리팩터링 2판 338p ~ 352p 학습
- 코어소리영어 신왕국의 '타임투게더' 17강 학습

## 05-12

예전에 작업했던 SmartHome 프로젝트를 다시 시작하기로 했다.  
API 키가 소멸되거나 서비스가 중단되어 이번에 변경을 하게 되었다.  
현재는 Vue로 되어 있는데 React로 옮길까도 고민이지만 결국 React도 시간이 흘렀을 때 존재한다고 보장할 수 없기 때문에 최대한 Native를 고려중이다.

- SmartHome Weather, FindDust API 변경
- 리팩터링 2판 353p ~ 356p 학습
- 코어소리영어 신왕국의 '타임투게더' 18강 학습

## 05-13

최근 몇 개월간 하루 종일 앉아 있다 보니 허리가 많이 상한 것 같다.
오늘 처음으로 골반과 허벅지가 아픈 경험을 했다.
매일 공부하기 위해 노력하는 것도 좋지만 앞으로 학습을 꾸준히 하기위해서라도 건강 관리에 신경 써야 겠다.

- 리팩터링 2판 357p ~ 359p 학습
- 코어소리영어 신왕국의 '타임투게더' 19강 학습

## 05-14

오늘은 하루 종일 자세에 신경 썼더니 많이 나아졌다.  
앞으로도 올바른 자세를 유지해야겠다.

리팩터링 책을 읽으면서 어떻게 해야 코드의 의도를 더 잘 드러내어 다른 개발자와의 협업에서 좋을지 많이 배우는 것 같다.

그리고 실제로 리팩터링 할 기회는 많지 않지만 개발을 하면서 가독성을 고려하면서 코드를 짜게 되는 것 같다.

- 리팩터링 2판 360p ~ 387p 학습 / 404p ~ 410p 학습
- 코어소리영어 신왕국의 '타임투게더' 20강 학습

## 05-15

- FastCampus 리팩터링 완주반 5주차 완료
- 리팩터링 2판 388 ~ 403p 학습

## 05-18

스탠딩 책상을 설치하고 사용하니 허리에 가는 부담이 줄어들었다.  
하지만 일어서서 공부하려니 다리도 아프고 불편함이 있다.  
그래도 건강을 위해서니 적응하려고 노력해야 겠다.

리팩터링 11장 API 리팩터링을 시작했다.  
개인적으로 좋은 API 작성은 프로그램을 더욱 쉽게 이해할 수 있게 만든다고 생각하기 때문에 이번 챕터는 잘 배워야 겠다.

명령 - 질의 분리(Command And Query Separate)에 대해서도 얘기한다.  
이 부분에 대해서는 상당히 공감하는데 레거시 코드를 보다 보면 이러한 원칙이 지켜지지 않는 부분이 상당히 많다.

만약 잘 분리되어 있다면 질의 함수는 언제 어디서 사용되더라도 전혀 부수효과가 없다.
분리가 되어 있지 않다면 사용하기 까다로워지며 반환 값을 얻기 위해 안에서 수행되는 명령 함수나 코드 구현을 살펴봐야할 필요가 있다. 이는 부수효과로 이어질 수 있다.

- 리팩터링 2판 411p ~ 420p 학습
- 코어소리영어 신왕국의 '타임투게더' 21강 학습

## 05-19

리팩터링 책을 읽다 보면 이 책을 관통하는 핵심 내용들을 알게 된다.

- 코드 스스로 무슨 일을 하는지 알 수 있도록 짜라는 것
- 정답이란 없으며 시간이 지날 수록 소프트웨어를 발전시키라는 것
- 코드는 최대한 단순하게 유지시키는 것

오늘 공부한 것

- 리팩터링 2판 421p ~ 441p 학습

## 05-20

리팩터링 11장 API 리팩터링을 완료했다.  
지금은 책을 통해 어떤 코드가 읽기 쉽고 구조적으로 좋은 코드인지 어느 정도 이해하고 있지만 책을 읽지 않았으면 절대 몰랐을 거라는 생각이 든다.  
결국, 사람은 자신의 경험과 지식을 바탕으로 생각하고 결정하기 때문에 책, 강의 등을 통해 다양한 경험과 지식을 쌓는건 중요하다고 생각한다.

그리고 오늘은 라즈베리파이4에 google-assistant를 설치하여 이것 저것 테스트 해봤다.  
아쉽게도 최근 google-assistant sdk에서는 hotword를 지원하지 않는 것 같다.  
최신 버전이 아니라 예전 버전을 다운 받는다면 hotword가 되지만 한글이 지원이 안되는 것 같다.... 이 부분은 더 알아봐야 겠다.  
지금 최신 버전에서는 pushtalk이 되고 있지만 큰 문제는 아니다. 매 초마다 자동으로 enter를 눌러주는 등 요령 껏 수정하면 된다.  
web page를 만든다면 web에서 hotword로 받아서 pi를 조작하는 방법도 있을 수 있겠다.

- google-assistant sdk 사용
- 리팩터링 2판 442p ~ 474p 학습

## 05-21

Chrome Dev Tools에서 Network Panel을 활용해서 다양한 환경에서 웹 페이지를 테스트 해봤다.

최근 특수한 문자가 존재하는 경우 서버에 API를 요청하지 않는 작업을 진행했다.  
여기서 '(싱글쿼터), "(더블쿼터) 등의 문자는 SQL Injection을 유발할 수 있기 때문에 Client와 Server 쪽에서도 필터링을 해줘야 한다.
Client에서 작업해서 Proxy로 패킷을 잡고 값을 변경하면 Client쪽 로직은 아무 소용이 없기 때문에 Server쪽 필터링은 필수가 된다.

- FastCampus 리팩터링 완주반 7주차 강의 학습

## 05-22

친구 차를 타고 인천 송도를 다녀왔다.  
바다를 보니 힐링도 되고 좋았다.

- FastCampus 리팩터링 완주반 6주차 완료 (저번 주에 완료 했지만 까먹고 작성하지 않음)
- FastCampus 리팩터링 완주반 7주차 완료

## 05-23

- 리팩터링 2판 475p ~ 500p 학습

## 05-24

현재 배포 프로세스는 어떤 코드를 추가하게 되면 기능에 영향이 있는지 테스트를 맡기고 배포를 해야 한다.
이번에 추가한 코드는 파일 업로드 중 에러가 발생할 경우 에러 로그를 쌓는 코드였다.  
하지만, 대부분의 상황에는 예외처리가 되어 있어서 이번에 추가한 코드가 실제로 에러가 발생해서 에러 로그를 쌓는지 확인할 방법이 필요했다.  
즉 에러를 발생시켜 검증해야 했다.  
디버깅 과정 중에 값 변경을 하여 에러가 발생하도록 할 수 있지만 실제 상황과는 거리가 멀어서 사용하고 싶지 않았다.  
다른 방법은 인터넷이 느린 환경을 가정했다. 동남아의 경우 네트워크 인프라가 좋지 못해 종종 끊기고 낮은 대역폭과 높은 지연 시간이 발생한다고 한다.  
따라서 Chrome Dev Tools Network Panel에서 네트워크 속도를 조절하여 테스트 해봤다.  
비교적 대용량 파일과 느린 네트워크 속도가 맞물려 몇 분이 지나니 에러가 발생했다. (Packet Timeout이 발생하여 패킷이 손실된 것 같다.)
이로 인해 해당 코드에 대한 검증도 하고 느린 네트워크 환경에서 발생하는 문제도 확인할 수 있었다.

- 느린 네트워크 환경에 대한 처리도 고민하자
- 리팩터링 2판 501p ~ 518p 학습

## 05-25

드디어 리팩터링 2판 책을 다 읽었다.  
두 번째 완독이지만 읽을 때 마다 이전에는 보이지 않던 내용이 들어오는 것 같다.  
다음에도 읽게 되면 내가 지식, 경험적으로 부족해서 느끼지 못했던 부분들을 느낄 수 있을 거라고 기대한다.  
이 책을 읽으면서 많은 것을 배웠다.  
개인 프로젝트라면 몰라도 대부분의 소프트웨어는 나 혼자 만들지 않는다.  
내가 남들과 대화를 하고 나의 이야기를 잘 전달하려고 노력하듯이 코딩도 나의 의도를 잘 전달하기 위해 노력해야 한다.

내 의도를 잘 전달하지 못한다면 그것은 악취가 되어 다른 누군가를 괴롭게 할 것이다.  
이런 악취나는 코드는 이해하기 어렵고 확장에 닫혀있으며 유지보수하기 힘들다.

그래서 앞으로는 내가 다음과 같이 느낀 것들을 되새기며 코딩할 것이다.

- 코드의 목적과 구현을 분리 하자 (캡슐화를 통해 의도만 전달)
- 가변 데이터 / 부수효과에 주의 하자
- 데이터와 메서드를 조직화 하자 (클래스, 모듈) (결국은 잘 정리정돈 해야 한다.)
- 소프트웨어가 발전하며 어제 맞았던 구조가 오늘은 틀릴 수 있다. 균형을 잘 맞추자.
- 상속, 위임을 사용하자.

오늘 공부한 것

- 리팩터링 2판 518p ~ 542p 학습
- 리팩터링 2판 책 완료

## 05-26

- MagicMirror 설치 및 Google-Assistant 연동
